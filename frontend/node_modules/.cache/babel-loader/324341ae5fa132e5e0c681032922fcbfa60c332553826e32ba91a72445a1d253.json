{"ast":null,"code":"class Api {\n  constructor(options, token) {\n    this.getItems = () => {\n      return fetch(`${this._url}/cards`, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(this._chekValidity);\n    };\n    this._url = options.baseUrl;\n    this._headers = options.headers;\n  }\n  _chekValidity(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(res.status);\n  }\n  getUser() {\n    return fetch(`${this._url}/users/me`, {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(this._chekValidity);\n  }\n  setUser(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.description\n      })\n    }).then(this._chekValidity);\n  }\n  setUserAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then(this._chekValidity);\n  }\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(this._chekValidity);\n  }\n  addItems(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then(this._chekValidity);\n  }\n  addLike(cardId) {\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(this._chekValidity);\n  }\n  deleteLike(cardId) {\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(this._chekValidity);\n  }\n}\nconst api = new Api({\n  baseUrl: process.env.REACT_APP_API_URL,\n  headers: {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\",\n    authorization: `Bearer ${localStorage.getItem('token')}`\n  }\n});\n\n// console.log(process.env.REACT_APP_API_URL);\n\nexport default api;","map":{"version":3,"names":["Api","constructor","options","token","getItems","fetch","_url","headers","Accept","authorization","localStorage","getItem","then","_chekValidity","baseUrl","_headers","res","ok","json","Promise","reject","status","getUser","setUser","data","method","body","JSON","stringify","name","about","description","setUserAvatar","avatar","deleteCard","cardId","addItems","link","addLike","deleteLike","api","process","env","REACT_APP_API_URL"],"sources":["C:/Users/Tima/dev/react-mesto-api-full-gha/frontend/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor(options, token) {\n    this._url = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _chekValidity(res) {\n    if (res.ok) {\n      return res.json();\n    }\n     return Promise.reject(res.status);\n  }\n\n  getUser() {\n    return fetch(`${this._url}/users/me`, {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    })\n    .then(this._chekValidity);\n  }\n\n  getItems = () => {\n    return fetch(`${this._url}/cards`, {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    })\n    .then(this._chekValidity);\n  }\n\n  setUser (data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.description\n      })\n    })\n    .then(this._chekValidity);\n  }\n\n  setUserAvatar (data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify({\n        avatar: data.avatar,\n      })\n    })\n    .then(this._chekValidity);\n  }\n\n  deleteCard (cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n   })\n    .then (this._chekValidity);\n  }\n\n  addItems(data) {\n   return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      })\n    })\n    .then (this._chekValidity);\n  }\n\n  addLike(cardId) {\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n       method: 'PUT',\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n    })\n     .then (this._chekValidity);\n    }\n\n  deleteLike(cardId) {\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n       method: 'DELETE',\n       headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem('token')}`\n       }\n    })\n     .then (this._chekValidity);\n  }\n}\n\nconst api = new Api({\n  baseUrl: process.env.REACT_APP_API_URL,\n  headers: {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\",\n    authorization: `Bearer ${localStorage.getItem('token')}`\n  }\n});\n\n// console.log(process.env.REACT_APP_API_URL);\n\nexport default api;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}